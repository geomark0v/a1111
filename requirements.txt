# Основные фиксы совместимости
setuptools==69.5.1                # temp fix для старых пакетов
numpy==1.26.4                     # последняя 1.x, совместима со skimage 0.21.0 и PyTorch 2.3
pydantic==1.10.13                 # v1 — обязательно, v2 ломает Gradio/FastAPI в Forge
gradio==3.50.2                    # стабильная 3.x, совместима с A1111/Forge, нет IOComponent ошибки
fastapi==0.103.2                  # совместима с pydantic v1 и Gradio 3.x

# Остальные пакеты (из твоих списков и репозитория)
GitPython==3.1.43
Pillow==10.0.1                    # новее 9.5.0, но совместима с Gradio 3.50
accelerate==0.31.0
blendmodes==2022
clean-fid==0.1.35
diskcache==5.6.3
einops==0.7.0
facexlib==0.3.0
httpcore==0.17.3
httpx==0.25.0
inflection==0.5.1
jsonmerge==1.9.0
kornia==0.7.0
lark==1.1.9
omegaconf==2.3.0
open-clip-torch==2.24.0
piexif==1.1.3
protobuf==4.25.3
psutil==5.9.8
pytorch_lightning==2.1.3          # современная замена, совместима с torch 2.3
resize-right==0.0.2
safetensors==0.4.5
scikit-image==0.22.0              # новее 0.21.0, совместима с numpy 1.26
spandrel==0.3.4
spandrel-extra-arches==0.1.1
tomesd==0.1.3
torchdiffeq==0.2.4
torchsde==0.2.6
transformers==4.37.2              # стабильная, совместима с Pony
pillow-avif-plugin==1.4.4
diffusers==0.30.3
gradio_rangeslider==0.0.7
gradio_imageslider==0.0.21
tqdm==4.66.5
peft==0.12.0
huggingface-hub==0.25.2

# Дополнительные (из твоих списков, без конфликтов)
joblib==1.4.2
ultralytics==8.2.0
numexpr==2.9.0
matplotlib==3.8.2
pandas==2.2.2
av==12.3.0
pims==0.7
imageio_ffmpeg==0.5.1
rich==13.7.1
gdown==5.2.0
insightface==0.7.3